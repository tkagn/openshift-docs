// Module included in the following assemblies:
//
// * architecture/acs-architecture.adoc
:_module-type: CONCEPT
[id="acs-architecture_{context}"]
= {product-title} architecture overview

{product-title}({product-title-short}) uses a distributed architecture that supports high scale deployments and is optimized to minimize the impact on the underlying {ocp} or Kubernetes nodes. You install {product-title-short} as a set of containers in your {ocp} or Kubernetes cluster. {product-title-short} includes services that you install on each cluster secured by {product-title-short} and centralized services you install on one cluster.

[discrete]
== {product-title} version 3.69.1 and newer

.High level {product-title} architecture for {ocp}
image::acs-architecture-ocp.png[High-level {product-title} for {ocp}]

[discrete]
== {product-title} version 3.69 and older

For {product-title} versions 3.69 and older, Scanner is installed only on the cluster where Central is installed.

Figure 2 depicts the architecture in a Kubernetes environment, where you install only the Scanner centrally.

.High level {product-title} architecture for Kubernetes
image::acs-architecture-kubernetes.png[High-level {product-title} architecture for Kubernetes]

[discrete]
== Centralized services
You install Centralized services on a single cluster (*Cluster 1* in Figure 1 and 3). These services includes two main components, Central and Scanner.

* *Central*:
Central is the {product-title-short} application management interface and services.
It handles data persistence, API interactions, and user interface ({product-title-short} Portal) access.
You can use the same Central instance to secure multiple {ocp} or Kubernetes clusters.
* *Scanner*:
Scanner is a Red Hat-developed and certified vulnerability scanner for scanning container images and their associated databases.
It analyzes all image layers to check known vulnerabilities from the Common Vulnerabilities and Exposures (CVEs) list.
Scanner also identifies vulnerabilities in packages installed by package managers and in dependencies for multiple programming languages.

[discrete]
=== Scanner Architecture in {product-title} version 3.69.1 and newer
When you install {product-title} version 3.69.1 and newer on {ocp}, you also install a lightweight version of Scanner on each secured cluster (Figure 1) to enable scanning of images in the integrated OpenShift Container Registry (OCR).

[discrete]
== Secured cluster services
You install the secured cluster services on each cluster that you want to secure by using the {product-title} (*Cluster N* in Figure 1 and 2). The cluster where you install Central is also secured and includes these services.

* *Sensor*:
Sensor is the service responsible for analyzing and monitoring the cluster.
It handles interactions with the {ocp} or Kubernetes API server for policy detection and enforcement, and it coordinates with Collector.

* *Admission controller*:
The admission controller prevents users from creating workloads that violate security policies in {product-title-short}.

* *Collector*:
Collector analyzes and monitors container activity on cluster nodes.
It collects information about container runtime and network activity and sends the collected data to Sensor.

* *Scanner* (only on {ocp} version 3.69.1 and newer):
On {ocp}, {product-title-short} installs a lightweight version of Scanner on each secured cluster (Figure 3) to enable scanning of images in the integrated OCR.

.High level {product-title} architecture for {ocp}
image::acs-architecture-ocp.png[High-level {product-title} for {ocp}]
